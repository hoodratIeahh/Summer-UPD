local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Themes = {
    ["Testol Summer"] = Color3.fromRGB(255, 203, 112),
    ["Ocean Blue"] = Color3.fromRGB(112, 193, 255),
    ["Dark Violet"] = Color3.fromRGB(145, 102, 255),
    ["Toxic Green"] = Color3.fromRGB(102, 255, 153)
}

local currentTheme = Themes["Testol Summer"]

local Window = Rayfield:CreateWindow({
    Name = "Testol Hub ‚òÄÔ∏è | Summer MM2",
    LoadingTitle = "Testol Summer Hub",
    LoadingSubtitle = "by ChatGPT",
    ConfigurationSaving = { Enabled = false },
    Discord = {Enabled = false},
    KeySystem = false,
    Theme = currentTheme
})

-- üåà Theme Changer
local SettingsTab = Window:CreateTab("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", 4483362458)
SettingsTab:CreateDropdown({
    Name = "üé® –¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
    Options = {"Testol Summer", "Ocean Blue", "Dark Violet", "Toxic Green"},
    CurrentOption = "Testol Summer",
    Callback = function(Option)
        currentTheme = Themes[Option]
        Window:SetTheme(currentTheme)
    end
})

-- üåû AutoFarm Tab
local AutoFarmTab = Window:CreateTab("üåû AutoFarm", 4483362458)
local autofarming = false
local restartAfterRound = false

AutoFarmTab:CreateToggle({
    Name = "AutoFarm Coins üí∞",
    CurrentValue = false,
    Callback = function(Value)
        autofarming = Value
        if autofarming then
            Rayfield:Notify({Title = "AutoFarm", Content = "–§–∞—Ä–º –Ω–∞—á–∞–ª—Å—è", Duration = 4})
            task.spawn(function()
                while autofarming do
                    for _, v in pairs(workspace:GetDescendants()) do
                        if v:IsA("Part") and v.Name == "Coin" then
                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.CFrame + Vector3.new(0,3,0)
                            wait(0.2)
                        end
                    end
                    wait(0.5)
                end
            end)
        else
            Rayfield:Notify({Title = "AutoFarm", Content = "–§–∞—Ä–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω", Duration = 3})
        end
    end,
})

-- üîÅ –ê–≤—Ç–æ-–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ñ–∞—Ä–º–∞ –ø–æ—Å–ª–µ —Ä–∞—É–Ω–¥–∞
AutoFarmTab:CreateToggle({
    Name = "üîÅ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ñ–∞—Ä–º–∞ –ø–æ—Å–ª–µ —Ä–∞—É–Ω–¥–∞",
    CurrentValue = false,
    Callback = function(v)
        restartAfterRound = v
    end
})

-- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞
task.spawn(function()
    local plr = game.Players.LocalPlayer
    local oldRole = plr:WaitForChild("Role").Value
    while true do
        local newRole = plr:FindFirstChild("Role") and plr.Role.Value or "None"
        if oldRole ~= newRole then
            if restartAfterRound then
                Rayfield:Notify({Title = "AutoFarm", Content = "–ù–æ–≤—ã–π —Ä–∞—É–Ω–¥: –∑–∞–ø—É—Å–∫ —Ñ–∞—Ä–º–∞", Duration = 4})
                autofarming = true
            end
            oldRole = newRole
        end
        wait(1)
    end
end)

-- üîç Coin Detection
local showCoins = false
local coinESP = {}

AutoFarmTab:CreateToggle({
    Name = "üîç –ü–æ–∫–∞–∑–∞—Ç—å –ú–æ–Ω–µ—Ç—ã",
    CurrentValue = false,
    Callback = function(Value)
        showCoins = Value
        for _, gui in pairs(coinESP) do
            if gui and gui.Parent then gui:Destroy() end
        end
        coinESP = {}

        if showCoins then
            Rayfield:Notify({Title = "Coin Detection", Content = "–í–∫–ª—é—á–µ–Ω–æ", Duration = 4})
            task.spawn(function()
                while showCoins do
                    for _, gui in pairs(coinESP) do
                        if gui and gui.Parent then gui:Destroy() end
                    end
                    coinESP = {}
                    for _, v in pairs(workspace:GetDescendants()) do
                        if v:IsA("Part") and v.Name == "Coin" then
                            local bill = Instance.new("BillboardGui", v)
                            bill.Size = UDim2.new(0, 60, 0, 20)
                            bill.Adornee = v
                            bill.AlwaysOnTop = true
                            bill.StudsOffset = Vector3.new(0, 1.5, 0)
                            local label = Instance.new("TextLabel", bill)
                            label.Size = UDim2.new(1, 0, 1, 0)
                            label.BackgroundTransparency = 1
                            label.TextColor3 = Color3.new(1, 1, 0)
                            label.Text = "üí∞ Coin"
                            label.TextScaled = true
                            table.insert(coinESP, bill)
                        end
                    end
                    wait(1)
                end
            end)
        else
            Rayfield:Notify({Title = "Coin Detection", Content = "–í—ã–∫–ª—é—á–µ–Ω–æ", Duration = 3})
        end
    end
})

local CoinCountLabel = AutoFarmTab:CreateParagraph({
    Title = "üí∞ –ú–æ–Ω–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ",
    Content = "0"
})
task.spawn(function()
    while true do
        local cnt = 0
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("Part") and v.Name == "Coin" then cnt += 1 end
        end
        CoinCountLabel:Set({Content = tostring(cnt)})
        wait(1)
    end
end)

-- üî™ Auto Kill When Full Bag as Murderer
local killWhenFull = false

AutoFarmTab:CreateToggle({
    Name = "üî™ –£–±–∏—Ç—å –≤—Å–µ—Ö –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –º–µ—à–∫–µ (–∑–∞ –º–∞—Ä–¥–µ—Ä–∞)",
    CurrentValue = false,
    Callback = function(Value)
        killWhenFull = Value
        if killWhenFull then
            Rayfield:Notify({Title = "Auto Kill", Content = "–í–∫–ª—é—á–µ–Ω–æ", Duration = 3})
            task.spawn(function()
                while killWhenFull do
                    local player = game.Players.LocalPlayer
                    local stats = player:FindFirstChild("Data")
                    local role = player:FindFirstChild("Role")
                    local knife = player.Backpack:FindFirstChild("Knife") or player.Character:FindFirstChild("Knife")

                    if role and role.Value == "Murderer" and stats then
                        local coins = stats:FindFirstChild("Coins")
                        if coins and coins.Value >= 50 and knife then
                            for _, other in pairs(game.Players:GetPlayers()) do
                                if other ~= player and other.Character and other.Character:FindFirstChild("HumanoidRootPart") then
                                    player.Character.HumanoidRootPart.CFrame = other.Character.HumanoidRootPart.CFrame + Vector3.new(0,0,2)
                                    wait(0.1)
                                    if knife:IsA("Tool") then knife:Activate() end
                                    wait(0.3)
                                end
                            end
                            Rayfield:Notify({Title = "Auto Kill", Content = "–í—Å–µ —É–±–∏—Ç—ã", Duration = 4})
                            killWhenFull = false
                        end
                    end
                    wait(2)
                end
            end)
        end
    end
})

-- üéØ Fling —É–±–∏–π—Ü—ã
AutoFarmTab:CreateButton({
    Name = "üéØ Fling —É–±–∏–π—Ü—É",
    Callback = function()
        local murderer
        for _, plr in pairs(game.Players:GetPlayers()) do
            if plr ~= game.Players.LocalPlayer and plr:FindFirstChild("Role") and plr.Role.Value == "Murderer" then
                murderer = plr
                break
            end
        end

        if murderer and murderer.Character and murderer.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = game.Players.LocalPlayer.Character.HumanoidRootPart
            local target = murderer.Character.HumanoidRootPart
            Rayfield:Notify({Title = "Fling", Content = "–§–ª–∏–Ω–≥ —É–±–∏–π—Ü—ã –Ω–∞—á–∞—Ç", Duration = 3})
            task.spawn(function()
                for _ = 1, 100 do
                    hrp.CFrame = target.CFrame + Vector3.new(0, 0, 0.5)
                    hrp.Velocity = Vector3.new(100, 100, 100)
                    wait(0.05)
                end
                Rayfield:Notify({Title = "Fling", Content = "–§–ª–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω", Duration = 3})
            end)
        else
            Rayfield:Notify({Title = "Fling", Content = "–£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
        end
    end
})

-- üõ°Ô∏è Anti-AFK
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    virtualUser = game:GetService("VirtualUser")
    virtualUser:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
    wait(1)
    virtualUser:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
end)
